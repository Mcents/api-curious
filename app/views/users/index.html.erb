<html>
  <title>W3.CSS Template</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Roboto'>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <style>
    html,body,h1,h2,h3,h4,h5,h6 {font-family: "Roboto", sans-serif}
  </style>
  <body class="w3-light-grey">

    <!-- Page Container -->
    <div class="w3-content w3-margin-top" style="max-width:1400px;">

      <!-- The Grid -->
      <div class="w3-row-padding">

        <!-- Left Column -->
        <div class="w3-third">

          <div class="w3-white w3-text-grey w3-card-4">
            <div class="w3-display-container">
              
               <img src="<%= image_path(@presenter.user_info.image) %>" width="100%" height="400px" alt="Avatar">
              <div class="w3-display-bottomleft w3-container w3-text-black">
                <font color="white"> <h2><%= current_user.name %> </h2></font>
              </div>
            </div>
            <div class="w3-container">
              <p><i class="fa fa-male fa-fw w3-margin-right w3-large w3-text-teal"></i>Followers: <%= @presenter.user_info.followers%><p>
              <p><i class="fa fa-male fa-fw w3-margin-right w3-large w3-text-teal"></i>Following: <%= @presenter.user_info.following %></p>
              <p><i class="fa fa-envelope fa-fw w3-margin-right w3-large w3-text-teal"></i>Email: <%= @presenter.user_info.email %></p>
              <hr>

              <h3><b>Repos</b></h3>

              <table class="w3-table w3-small">
                <tr>
                    <th>Name</th>
                      <th>Link</th>
                </tr>

            <% @presenter.user_repo_info.each do |commit| %>
              <tr>
              <td><%= commit[:name] %></td>
              <td><%= link_to commit[:html_url], commit[:html_url] %>
            <% end %></td>
                </tr>
              </table>
              <div class="w3-light-grey w3-round-xlarge w3-small">
              </div>
              <div class="w3-light-grey w3-round-xlarge w3-small">
                <div class="w3-container w3-center w3-round-xlarge w3-teal" style="width:80%">
                </div>
              </div>
              <div class="w3-light-grey w3-round-xlarge w3-small">
              </div>
              <div class="w3-light-grey w3-round-xlarge w3-small">
              </div>
              <br>

              <div class="w3-light-grey w3-round-xlarge">
              </div>
              <div class="w3-light-grey w3-round-xlarge">
              </div>
              <div class="w3-light-grey w3-round-xlarge">
              </div>
              <br>
            </div>
          </div><br>

          <!-- End Left Column -->
        </div>

        <!-- Right Column -->
        <div class="w3-twothird">

          <div class="w3-container w3-card-2 w3-white w3-margin-bottom">
            <br>
            <div class="w3-bar w3-black">
              <button class="w3-bar-item w3-button" onclick="openCity('London')">User Activity</button>
              <button class="w3-bar-item w3-button" onclick="openCity('Paris')">Follower Activity</button>
            </div>
            <div id="London" class="city">
              
            <table class="w3-table w3-striped w3-small">
              <tr>
                <th>User and Repo</th>
                <th>Link</th>
                <th>Date Committed</th>
              </tr>

              <% @presenter.user_commits.each do |commit| %>
                <tr>

                  <td><%= commit[:repo][:name] %></td>
                  <td><%= link_to commit[:repo][:url], commit[:repo][:url] %>
                  <td><%= commit[:created_at].to_date.strftime("%B %d, %Y")
                    %> <% end %></td>

              </tr>
            </table>
            </div>

            <div id="Paris" class="city" style="display:none">
              
            <h2 class="w3-text-grey w3-padding-16"><i class="fa fa-suitcase fa-fw w3-margin-right w3-xxlarge w3-text-teal"></i>Follower Activity</h2>

            <% @presenter.user_followers.each do |commit| %>
              <%= commit[:repo][:name] %> ||
            <% end %>
            </div>

            <script>
              function openCity(cityName) {
                var i;
                var x = document.getElementsByClassName("city");
                for (i = 0; i < x.length; i++) {
                  x[i].style.display = "none";  
                }
                document.getElementById(cityName).style.display = "block";  
              }
            </script>
          

            <h2 class="w3-text-grey w3-padding-16"><i class="fa fa-suitcase fa-fw w3-margin-right w3-xxlarge w3-text-teal"></i>Starred Repo's</h2>
            <% @presenter.starred_repo.each do |commit| %>
              <%= commit[:name] %>
            <% end %>


            <h2 class="w3-text-grey w3-padding-16"><i class="fa fa-suitcase fa-fw w3-margin-right w3-xxlarge w3-text-teal"></i>Pull Requests</h2>



  </body>
</html>


